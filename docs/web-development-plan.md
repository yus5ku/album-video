# Web開発計画 - Album Video アプリケーション

## サイトマップ

```
album-video アプリケーション
├── / (ルート)
│   └── リダイレクト → /login (未認証) または /photos (認証済み)
│
├── /login
│   ├── ログインフォーム
│   ├── 新規登録リンク
│   └── パスワードリセットリンク
│
├── /photos (写真一覧画面)
│   ├── 写真グリッド表示
│   ├── 検索・フィルター機能
│   ├── /photos/upload へのリンク
│   └── /photos/:id への遷移
│
├── /photos/upload (写真アップロード画面)
│   ├── ドラッグ&ドロップアップロード
│   ├── ファイル選択アップロード
│   ├── プレビュー機能
│   └── アップロード後 → /photos/:id (詳細画面)
│
├── /photos/:id (写真詳細画面)
│   ├── 写真表示
│   ├── メタデータ表示
│   ├── /photos/:id/edit への遷移
│   └── 削除機能
│
└── /photos/:id/edit (写真編集画面)
    ├── 画像編集ツール
    ├── メタデータ編集
    ├── 保存機能
    └── 保存後 → /photos/:id へリダイレクト
```

## 開発構成

### フロントエンド
- **Next.js 14** (App Router) - Vercel v0との統一
- **Tailwind CSS** + **shadcn/ui**
- **TypeScript**
- **Vercel v0** でプロトタイプ作成 → Next.jsに直接統合
- アクセス: http://localhost:3000

### バックエンド
- **Node.js** + **Express**
- **MySQL** (データベース)
- **JWT認証**

### インフラ・開発環境
- **Docker** + **Docker Compose** (開発環境)
- **MySQL, Web(Next.js), API** の3コンテナ構成
- **Vercel** (フロントエンドデプロイ)
- **Node.js v22系** (Voltaで管理)

## 画面仕様詳細

### 1. Login画面 (`/login`)
- **機能**: ユーザー認証
- **要素**: メール・パスワード入力、ログインボタン、新規登録リンク
- **状態管理**: 認証状態、エラーハンドリング

### 2. 写真一覧画面 (`/photos`)
- **機能**: 写真のグリッド表示、検索・フィルター
- **要素**: 写真サムネイル、アップロードボタン、検索バー
- **レスポンシブ**: グリッドレイアウト（1-6列）

### 3. 写真アップロード画面 (`/photos/upload`)
- **機能**: 複数ファイルアップロード
- **要素**: ドラッグ&ドロップエリア、プレビュー、進捗バー
- **バリデーション**: ファイル形式・サイズチェック

### 4. 写真詳細画面 (`/photos/:id`)
- **機能**: 写真の詳細表示・メタデータ表示
- **要素**: フルサイズ画像、EXIF情報、編集・削除ボタン
- **ナビゲーション**: 前後の写真への移動

### 5. 写真編集画面 (`/photos/:id/edit`)
- **機能**: 基本的な画像編集
- **要素**: クロップ、回転、明度・彩度調整、タグ編集
- **リアルタイムプレビュー**

## Vercel v0 開発プラン

### フェーズ1: プロトタイプ作成
1. v0.devでUIコンポーネント生成
2. 各画面のモックアップ作成
3. インタラクション設計

### フェーズ2: 実装
1. Next.js プロジェクト作成（webディレクトリを置き換え）
2. v0生成コードを直接統合
3. 状態管理（Zustand/Context API）

### 推奨v0プロンプト例
```
"Create a photo gallery grid with upload button, search bar, and responsive design using Next.js 14, Tailwind CSS, and shadcn/ui"
```

## API エンドポイント仕様

### 認証系
- `POST /api/auth/login` - ログイン
- `POST /api/auth/register` - 新規登録
- `POST /api/auth/logout` - ログアウト
- `GET /api/auth/me` - ユーザー情報取得

### 写真系
- `GET /api/photos` - 写真一覧取得（ページネーション・検索対応）
- `POST /api/photos` - 写真アップロード
- `GET /api/photos/:id` - 写真詳細取得
- `PUT /api/photos/:id` - 写真更新（メタデータ・編集）
- `DELETE /api/photos/:id` - 写真削除

### ファイル系
- `POST /api/upload` - ファイルアップロード
- `GET /api/files/:filename` - ファイル取得

## 次のステップ

### 開発順序推奨
1. **Vercel v0**で各画面のUIプロトタイプ作成
2. **バックエンドAPI**の基本実装
3. **フロントエンド**とAPI連携
4. **認証機能**の実装
5. **ファイルアップロード機能**
6. **画像編集機能**

### 今すぐできること
- v0.devで写真一覧画面のプロトタイプを作成
- APIのデータベース設計
- Docker環境でのバックエンド開発開始